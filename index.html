<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…”Uå¹¿æ’­å‰§MBTIäººæ ¼æµ‹è¯• | å£°åŸŸæ¼«æ¸¸Â·å¿ƒåŠ¨è§£ç </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #FF9AA2;
            --primary-light: #FFD1DC;
            --secondary: #B5EAD7;
            --accent: #C7CEEA;
            --text: #5D576B;
            --light: #FFFFFF;
            --shadow: rgba(149, 157, 165, 0.15);
            --rabbit-pink: #FFB7C5;
            --e-color: #FF9AA2;
            --i-color: #C7CEEA;
            --s-color: #B5EAD7;
            --n-color: #FFDAC1;
            --t-color: #A2D2FF;
            --f-color: #FFB7C5;
            --j-color: #B5EAD7;
            --p-color: #FFDAC1;
        }

        body {
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--accent) 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 15px 35px var(--shadow);
            overflow: hidden;
            backdrop-filter: blur(8px);
            transition: all 0.3s ease;
        }

        .page {
            padding: 40px 30px;
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
        }

        .rabbit-brand {
            position: absolute;
            top: -10px;
            right: 20px;
            background: var(--rabbit-pink);
            color: white;
            padding: 8px 15px;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(255, 183, 197, 0.3);
        }

        .header h1 {
            font-size: 2.2rem;
            color: var(--text);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        .header h1::after {
            content: "";
            display: block;
            width: 60%;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 2px;
            margin: 10px auto 0;
        }

        .header p {
            color: var(--text);
            font-size: 1.05rem;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        .disclaimer {
            background: rgba(255, 154, 162, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin: 25px 0;
            font-size: 0.9rem;
            text-align: center;
            color: #666;
            border: 1px dashed var(--primary);
        }

        .btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(142, 197, 252, 0.3);
            margin: 10px 5px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(142, 197, 252, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn i {
            margin-left: 8px;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            box-shadow: none;
        }

        .dimension-card {
            background: white;
            border-radius: 20px;
            padding: 35px 30px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(142, 197, 252, 0.15);
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .dimension-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(to right, var(--primary), var(--accent));
        }

        .dimension-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .dimension-desc {
            font-size: 1.15rem;
            color: var(--text);
            margin-bottom: 25px;
            line-height: 1.7;
        }

        .progress-container {
            width: 100%;
            background: #f0f0f0;
            border-radius: 10px;
            height: 14px;
            margin: 30px 0;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .question-container {
            background: white;
            border-radius: 20px;
            padding: 35px 30px;
            box-shadow: 0 8px 25px rgba(142, 197, 252, 0.15);
            margin: 20px 0;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            font-size: 1.1rem;
            color: var(--primary);
            font-weight: 600;
        }

        .question-text {
            font-size: 1.35rem;
            line-height: 1.7;
            margin-bottom: 35px;
            text-align: center;
            color: #333;
            font-weight: 500;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .option {
            background: #f8f9ff;
            border: 2px solid #e6e9ff;
            border-radius: 18px;
            padding: 20px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(142, 197, 252, 0.25);
            border-color: var(--primary);
        }

        .option.selected {
            background: rgba(142, 197, 252, 0.12);
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(142, 197, 252, 0.2);
        }

        .option-letter {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 20px;
            font-weight: bold;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .option-text {
            font-size: 1.15rem;
            line-height: 1.6;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 35px;
        }

        .results-container {
            text-align: center;
        }

        .result-card {
            background: white;
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 8px 25px rgba(142, 197, 252, 0.15);
            margin: 25px 0;
            position: relative;
        }

        .personality-type {
            font-size: 4.5rem;
            font-weight: 800;
            margin: 25px 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 5px;
        }

        .personality-tag {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 10px 25px;
            border-radius: 50px;
            font-size: 1.3rem;
            margin: 20px 0;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(142, 197, 252, 0.3);
        }

        .personality-desc {
            font-size: 1.15rem;
            line-height: 1.8;
            margin: 25px 0;
            text-align: center;
            padding: 0 15px;
        }

        .dimension-results {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 35px 0;
        }

        .dimension-result-item {
            background: #f8f9ff;
            border-radius: 18px;
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .dimension-name {
            font-size: 1.2rem;
            color: var(--text);
            margin-bottom: 12px;
            font-weight: 600;
        }

        .dimension-score {
            font-size: 2rem;
            font-weight: 700;
            margin: 5px 0;
        }

        .dimension-tendency {
            font-size: 1.2rem;
            font-weight: 600;
            margin-top: 10px;
            padding: 8px 0;
            border-radius: 10px;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            color: #777;
            font-size: 0.95rem;
        }

        .rabbit-icon {
            font-size: 5rem;
            color: var(--rabbit-pink);
            margin: 25px 0;
            text-shadow: 0 5px 15px rgba(255, 183, 197, 0.3);
        }

        .mbti-banner {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 50px;
            display: inline-block;
            margin: 15px 0;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(142, 197, 252, 0.3);
        }

        .personality-highlight {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        .rabbit-elements {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.8rem;
            color: var(--rabbit-pink);
            opacity: 0.7;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                border-radius: 20px;
            }
            
            .page {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .dimension-card, .question-container, .result-card {
                padding: 25px 20px;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .dimension-results {
                grid-template-columns: 1fr;
            }
            
            .personality-type {
                font-size: 3.5rem;
            }
            
            .btn {
                padding: 14px 30px;
                font-size: 1rem;
            }
            
            .navigation {
                flex-direction: column;
                gap: 12px;
            }
            
            .rabbit-brand {
                position: static;
                display: inline-block;
                margin-bottom: 15px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 15px;
            }
            
            .container {
                border-radius: 18px;
            }
            
            .page {
                padding: 25px 15px;
            }
            
            .header h1 {
                font-size: 1.6rem;
            }
            
            .question-text {
                font-size: 1.15rem;
            }
            
            .option-text {
                font-size: 1.05rem;
            }
            
            .personality-type {
                font-size: 3rem;
            }
            
            .rabbit-icon {
                font-size: 4rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é¦–é¡µ -->
        <div class="page active" id="home">
            <div class="header">
                <div class="rabbit-brand">
                    <i class="fas fa-paw"></i> å…”Uä¸“å±æ´»åŠ¨
                </div>
                <h1>å£°åŸŸæ¼«æ¸¸Â·å¿ƒåŠ¨è§£ç </h1>
                <p>å½“å£°éŸ³é¢‘ç‡æ’ä¸Š"äººæ ¼å¯†ç "<br>æ¢ç´¢ä½ çš„å¹¿æ’­å‰§MBTIäººæ ¼ç±»å‹</p>
                
                <div class="rabbit-icon">
                    <i class="fas fa-headphones-alt"></i>
                </div>
                
                <div class="mbti-banner">
                    <i class="fas fa-star"></i> å…”U MBTI äººæ ¼æµ‹è¯• <i class="fas fa-star"></i>
                </div>
            </div>
            
            <div class="dimension-card">
                <h2 class="dimension-title">å£°æ§äººæ ¼é›·è¾¾å¯åŠ¨ï¼</h2>
                <p class="dimension-desc">
                    å½“é¢‘ç‡å…±æŒ¯å¿ƒè·³â€”â€”<br>
                    <span class="personality-highlight">Eäºº</span>ï¼šå¼¹å¹•é£æš´å¸­å·å…¬æ”¾ğŸ‰<br>
                    <em>"å£°æµªä¸å…¬æ”¾ï¼Œå¦‚åŒé”¦è¡£å¤œè¡Œï¼"</em><br><br>
                    <span class="personality-highlight">Iäºº</span>ï¼š0.5å€é€Ÿç›˜ç»†èŠ‚æˆç˜¾ğŸ”<br>
                    <em>"å‘¼å¸å£°æ¼å¬0.1ç§’ï¼Œä»Šå¤œæ³¨å®šæ— çœ "</em>
                </p>
                
                <div class="disclaimer">
                    <i class="fas fa-info-circle"></i> æœ¬æµ‹è¯•ä»…ä¾›å¨±ä¹ï¼Œç»“æœä¸ä»£è¡¨ä¸“ä¸šå¿ƒç†è¯„ä¼°
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" id="startBtn">
                    å¼€å§‹æµ‹è¯• <i class="fas fa-play"></i>
                </button>
            </div>
            
            <div class="footer">
                <p>é€šè¿‡20é“å¹¿æ’­å‰§åœºæ™¯é€‰æ‹©é¢˜ï¼Œè§£ç ä½ çš„å£°éŸ³äººæ ¼</p>
            </div>
        </div>
        
        <!-- ç»´åº¦ä»‹ç»é¡µ -->
        <div class="page" id="dimension-intro">
            <div class="rabbit-elements">
                <i class="fas fa-paw"></i>
            </div>
            <div class="header">
                <h1 id="dimension-title">ç»´åº¦åç§°</h1>
                <p id="dimension-subtitle">ç»´åº¦å‰¯æ ‡é¢˜</p>
            </div>
            
            <div class="dimension-card">
                <div id="dimension-icon" style="font-size: 4rem; color: var(--primary); margin: 15px 0;">
                    <i class="fas fa-bolt"></i>
                </div>
                <p class="dimension-desc" id="dimension-description">
                    ç»´åº¦æè¿°å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
                </p>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="dimension-progress" style="width: 0%"></div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" id="startDimensionBtn">
                    å¼€å§‹ç­”é¢˜ <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
        
        <!-- é¢˜ç›®é¡µ -->
        <div class="page" id="question">
            <div class="rabbit-elements">
                <i class="fas fa-paw"></i>
            </div>
            <div class="question-header">
                <span id="dimension-indicator">ç»´åº¦ 1/4</span>
                <span id="question-indicator">é¢˜ç›® 1/5</span>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="question-progress" style="width: 0%"></div>
            </div>
            
            <div class="question-container">
                <div class="question-text" id="question-text">
                    é¢˜ç›®å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
                </div>
                
                <div class="options-container" id="options-container">
                    <!-- é€‰é¡¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="navigation">
                    <button class="btn btn-outline" id="prevBtn">
                        <i class="fas fa-arrow-left"></i> ä¸Šä¸€é¢˜
                    </button>
                    <button class="btn" id="nextBtn">
                        ä¸‹ä¸€é¢˜ <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ç»“æœé¡µ -->
        <div class="page" id="result">
            <div class="rabbit-elements">
                <i class="fas fa-paw"></i>
            </div>
            <div class="header">
                <h1>æµ‹è¯•ç»“æœ</h1>
                <p>ä½ çš„å…”Uå¹¿æ’­å‰§MBTIäººæ ¼ç±»å‹æ˜¯</p>
            </div>
            
            <div class="results-container">
                <div class="result-card">
                    <div class="personality-type" id="personality-type">INTJ</div>
                    <div class="personality-tag" id="personality-tag">ç­–ç•¥å‹å¬å‰§å¤§å¸ˆ</div>
                    
                    <div class="personality-desc" id="personality-desc">
                        ä½ æ˜¯ä¸€ä¸ªæ·±æ€ç†Ÿè™‘çš„å¹¿æ’­å‰§çˆ±å¥½è€…ï¼Œåå¥½å¤æ‚å‰§æƒ…å’Œæ·±åˆ»å†…æ¶µã€‚å¬å‰§æ—¶ä½ ä¼šä»”ç»†åˆ†ææ¯ä¸ªæƒ…èŠ‚è½¬æŠ˜å’Œè§’è‰²åŠ¨æœºï¼Œå¸¸å¸¸åœ¨è„‘æµ·ä¸­æ„å»ºå®Œæ•´çš„æ•…äº‹æ¡†æ¶ã€‚ä½ äº«å—ç‹¬å¤„æ—¶æ²‰æµ¸å¼å¬å‰§ä½“éªŒï¼Œè€³æœºæ˜¯ä½ çš„æœ€ä½³ä¼´ä¾£ã€‚
                    </div>
                    
                    <div class="dimension-results">
                        <div class="dimension-result-item">
                            <div class="dimension-name">èƒ½é‡è·å–</div>
                            <div class="dimension-score" id="dim1-score">4/5</div>
                            <div class="dimension-tendency" id="dim1-tendency">å†…å€¾(I)</div>
                        </div>
                        <div class="dimension-result-item">
                            <div class="dimension-name">ä¿¡æ¯è·å–</div>
                            <div class="dimension-score" id="dim2-score">2/5</div>
                            <div class="dimension-tendency" id="dim2-tendency">ç›´è§‰(N)</div>
                        </div>
                        <div class="dimension-result-item">
                            <div class="dimension-name">å†³ç­–æ–¹å¼</div>
                            <div class="dimension-score" id="dim3-score">5/5</div>
                            <div class="dimension-tendency" id="dim3-tendency">æ€è€ƒ(T)</div>
                        </div>
                        <div class="dimension-result-item">
                            <div class="dimension-name">ç”Ÿæ´»æ€åº¦</div>
                            <div class="dimension-score" id="dim4-score">4/5</div>
                            <div class="dimension-tendency" id="dim4-tendency">åˆ¤æ–­(J)</div>
                        </div>
                    </div>
                </div>
                
                <button class="btn" id="restartBtn">
                    <i class="fas fa-redo"></i> é‡æ–°æµ‹è¯•
                </button>
                
                <div class="disclaimer" style="margin-top: 30px;">
                    <i class="fas fa-info-circle"></i> æœ¬æµ‹è¯•ä»…ä¾›å¨±ä¹ï¼Œç»“æœä¸ä»£è¡¨ä¸“ä¸šå¿ƒç†è¯„ä¼°
                </div>
            </div>
        </div>
    </div>

    <script>
        // æµ‹è¯•æ•°æ®
        const dimensions = [
            {
                id: 0,
                title: "èƒ½é‡è·å–æ–¹å¼",
                subtitle: "å†…å€¾(I) vs å¤–å€¾(E)",
                icon: "fas fa-bolt",
                description: "è¿™ä¸ªç»´åº¦æ¢ç´¢ä½ å¦‚ä½•è·å–èƒ½é‡ã€‚åœ¨å¬å¹¿æ’­å‰§æ—¶ï¼Œä½ æ˜¯é€šè¿‡ç‹¬å¤„åæ€è·å¾—èƒ½é‡ï¼Œè¿˜æ˜¯é€šè¿‡ä¸ä»–äººåˆ†äº«è·å¾—èƒ½é‡ï¼Ÿ",
                questions: [
                    "å¬å‰§æ—¶ä½ æ›´å€¾å‘ï¼š",
                    "é‡åˆ°å–œæ¬¢çš„å°è¯ï¼Œä½ ä¼šï¼š",
                    "å¬å‰§æ—¶æœ‰äººæ‰“æ‰°ï¼Œä½ ä¼šï¼š",
                    "ä½ æ›´çˆ±å¬ï¼š",
                    "å¬å®Œä¸€éƒ¨å‰§åï¼Œä½ å€¾å‘äºï¼š"
                ],
                options: [
                    ["æˆ´è€³æœºç‹¬å¤„", "ç”¨å…¬æ”¾ä¸ä»–äººå…±äº«"],
                    ["åå¤å›å¬å“å‘³", "ç«‹åˆ»åˆ†äº«ç»™æœ‹å‹"],
                    ["çƒ¦èºæš‚åœï¼Œéœ€è¦å®‰é™", "è¾¹å¬è¾¹èŠï¼Œç”šè‡³è®¨è®ºå‰§æƒ…"],
                    ["ç‹¬ç™½æ·±åˆ»çš„å¿ƒç†å‰§", "ç¾¤åƒçƒ­é—¹çš„å–œå‰§"],
                    ["å†™é•¿è¯„åˆ†æè§’è‰²", "å‚ä¸å¼¹å¹•äº’åŠ¨"]
                ]
            },
            {
                id: 1,
                title: "ä¿¡æ¯è·å–æ–¹å¼",
                subtitle: "å®æ„Ÿ(S) vs ç›´è§‰(N)",
                icon: "fas fa-lightbulb",
                description: "è¿™ä¸ªç»´åº¦æ¢ç´¢ä½ å¦‚ä½•è·å–ä¿¡æ¯ã€‚åœ¨å¬å¹¿æ’­å‰§æ—¶ï¼Œä½ æ›´å…³æ³¨å…·ä½“ç»†èŠ‚å’Œç°å®å…ƒç´ ï¼Œè¿˜æ˜¯æŠ½è±¡æ¦‚å¿µå’Œæ½œåœ¨æ„ä¹‰ï¼Ÿ",
                questions: [
                    "å¬å‰§æ—¶ä½ æ›´å…³æ³¨ï¼š",
                    "é‡åˆ°é€»è¾‘æ¼æ´ï¼Œä½ ä¼šï¼š",
                    "ä½ æ›´çˆ±å¬ï¼š",
                    "å¬å‰§æ—¶åšç¬”è®°ï¼Œä½ ä¼šè®°ï¼š",
                    "æ¨èå‰§æ—¶ï¼Œä½ æ›´çœ‹é‡ï¼š"
                ],
                options: [
                    ["åœºæ™¯éŸ³æ•ˆçš„ç»†èŠ‚ï¼ˆå¦‚è„šæ­¥å£°æ–¹ä½ï¼‰", "å°è¯èƒŒåçš„éšå–»"],
                    ["ç«‹åˆ»å‡ºæˆï¼Œçº ç»“åˆç†æ€§", "å¿½ç•¥ç»†èŠ‚ï¼Œæ²‰æµ¸æƒ…æ„Ÿ"],
                    ["ç°å®é¢˜æå‰§ï¼ˆèŒåœºã€æ ¡å›­ï¼‰", "å¥‡å¹»/ç§‘å¹»é¢˜æå‰§"],
                    ["æ—¶é—´çº¿ã€äººç‰©å…³ç³»å›¾", "çµæ„Ÿé‡‘å¥ã€è„‘æ´å»¶ä¼¸"],
                    ["åˆ¶ä½œç²¾è‰¯åº¦", "åˆ›æ„æ–°é¢–æ€§"]
                ]
            },
            {
                id: 2,
                title: "å†³ç­–æ–¹å¼",
                subtitle: "æ€è€ƒ(T) vs æƒ…æ„Ÿ(F)",
                icon: "fas fa-heart",
                description: "è¿™ä¸ªç»´åº¦æ¢ç´¢ä½ å¦‚ä½•åšå‡ºå†³ç­–ã€‚åœ¨å¬å¹¿æ’­å‰§æ—¶ï¼Œä½ æ›´å€¾å‘äºé€»è¾‘åˆ†æè¿˜æ˜¯æƒ…æ„Ÿå…±é¸£ï¼Ÿ",
                questions: [
                    "å¬å‰§æ—¶è§’è‰²é¢ä¸´æŠ‰æ‹©ï¼Œä½ ä¼šï¼š",
                    "è®¨åŒçš„è§’è‰²ç±»å‹ï¼š",
                    "å¬åˆ°è™å¿ƒå‰§æƒ…ï¼Œä½ ä¼šï¼š",
                    "ä½ æ›´çˆ±å¬ï¼š",
                    "å‰§è¯„ä¸­ä½ æ›´æƒ³å†™ï¼š"
                ],
                options: [
                    ["åˆ†æåˆ©å¼Šï¼Œåˆ¤æ–­åˆç†æ€§", "å…±æƒ…è§’è‰²ï¼Œæ„Ÿå—æƒ…ç»ª"],
                    ["å†·è¡€ç†æ€§æ´¾", "åœ£æ¯å¿ƒæ³›æ»¥å‹"],
                    ["æ€è€ƒå‰§æƒ…é€»è¾‘æ˜¯å¦åˆç†", "ç›´æ¥å“­çˆ†ï¼Œéœ€è¦æš‚åœå¹³å¤"],
                    ["ç¡¬æ ¸æ¨ç†å‰§", "æ²»æ„ˆç”œå® å‰§"],
                    ["å‰§æƒ…æ¼æ´åˆ†æ", "è§’è‰²æƒ…æ„Ÿè§£è¯»"]
                ]
            },
            {
                id: 3,
                title: "ç”Ÿæ´»æ€åº¦",
                subtitle: "åˆ¤æ–­(J) vs æ„ŸçŸ¥(P)",
                icon: "fas fa-calendar-alt",
                description: "è¿™ä¸ªç»´åº¦æ¢ç´¢ä½ çš„ç”Ÿæ´»æ–¹å¼ã€‚åœ¨å¬å¹¿æ’­å‰§æ—¶ï¼Œä½ æ›´å–œæ¬¢è®¡åˆ’æœ‰åºè¿˜æ˜¯çµæ´»éšæ€§çš„æ–¹å¼ï¼Ÿ",
                questions: [
                    "å¬å‰§è®¡åˆ’ï¼š",
                    "å¬å®Œä¸€éƒ¨å‰§åï¼Œä½ ä¼šï¼š",
                    "ä½ æ›´çˆ±å¬ï¼š",
                    "é‡åˆ°çƒ‚å°¾å‰§ï¼Œä½ ä¼šï¼š",
                    "å¬å‰§æ—¶æœ€ä¸èƒ½å¿å—ï¼š"
                ],
                options: [
                    ["æå‰åˆ—å¥½è¿½å‰§æ¸…å•", "éšç¼˜åˆ·åˆ°å“ªéƒ¨å¬å“ªéƒ¨"],
                    ["ç«‹åˆ»æ‰¾ä¸‹ä¸€éƒ¨ï¼Œæ— ç¼è¡”æ¥", "ç©ºçª—æœŸæ¶ˆåŒ–æƒ…ç»ªï¼Œå†æ‰¾æ–°å‰§"],
                    ["å®Œæ•´é•¿ç¯‡è¿è½½å‰§", "çŸ­å°ç²¾æ‚çš„å•å…ƒå‰§"],
                    ["æ„¤æ€’å·®è¯„ï¼Œè¦æ±‚åˆç†ç»“å±€", "åæ§½åä½›ç³»æ”¾å¼ƒ"],
                    ["æ›´æ–°ä¸ç¨³å®š", "å‰§æƒ…æ³¨æ°´æ‹–æ²“"]
                ]
            }
        ];

        // äººæ ¼ç±»å‹æè¿°
        const personalityDescriptions = {
            "INTJ": "ä½ æ˜¯ä¸€ä¸ªæ·±æ€ç†Ÿè™‘çš„å¹¿æ’­å‰§çˆ±å¥½è€…ï¼Œåå¥½å¤æ‚å‰§æƒ…å’Œæ·±åˆ»å†…æ¶µã€‚å¬å‰§æ—¶ä½ ä¼šä»”ç»†åˆ†ææ¯ä¸ªæƒ…èŠ‚è½¬æŠ˜å’Œè§’è‰²åŠ¨æœºï¼Œå¸¸å¸¸åœ¨è„‘æµ·ä¸­æ„å»ºå®Œæ•´çš„æ•…äº‹æ¡†æ¶ã€‚ä½ äº«å—ç‹¬å¤„æ—¶æ²‰æµ¸å¼å¬å‰§ä½“éªŒï¼Œè€³æœºæ˜¯ä½ çš„æœ€ä½³ä¼´ä¾£ã€‚",
            "INTP": "ä½ æ˜¯ä¸€ä¸ªå¯Œæœ‰åˆ›æ„çš„å¹¿æ’­å‰§æ¢ç´¢è€…ï¼Œå¯¹æ–°é¢–çš„å‰§æƒ…è®¾å®šå’Œä¸–ç•Œè§‚æ„å»ºå……æ»¡å¥½å¥‡ã€‚å¬å‰§æ—¶ä½ ä¼šä¸æ–­æ€è€ƒå„ç§å¯èƒ½æ€§ï¼Œç”šè‡³è‡ªå·±è„‘è¡¥å‡ºä¸åŒçš„å‰§æƒ…èµ°å‘ã€‚ä½ åå¥½ç§‘å¹»ã€å¥‡å¹»ç±»é¢˜æï¼Œèƒ½æ¬£èµå¤æ‚çš„å™äº‹ç»“æ„ã€‚",
            "ENTJ": "ä½ æ˜¯ä¸€ä¸ªç›®æ ‡æ˜ç¡®çš„å¹¿æ’­å‰§è¾¾äººï¼Œå¬å‰§è®¡åˆ’äº•äº•æœ‰æ¡ã€‚ä½ ä¼šä¸»åŠ¨å¯»æ‰¾é«˜è´¨é‡å‰§é›†ï¼Œå¹¶ä¹äºç»„ç»‡å¬å‰§å°ç»„è®¨è®ºå‰§æƒ…ã€‚åœ¨å¹¿æ’­å‰§ç¤¾åŒºä¸­ï¼Œä½ å¸¸å¸¸æ‹…ä»»æ„è§é¢†è¢–è§’è‰²ï¼Œæ¨èå‰§é›†æ—¶æå…·è¯´æœåŠ›ã€‚",
            "ENTP": "ä½ æ˜¯ä¸€ä¸ªæ€ç»´æ´»è·ƒçš„å¹¿æ’­å‰§çˆ±å¥½è€…ï¼Œå–œæ¬¢æ¢ç´¢ä¸åŒç±»å‹çš„å‰§é›†ã€‚å¬å‰§æ—¶ä½ æ€»èƒ½å‘ç°æ–°é¢–çš„è§‚ç‚¹å’Œè§’åº¦ï¼Œå¹¶ä¹äºä¸ä»–äººè¿›è¡Œæ€æƒ³ç¢°æ’ã€‚ä½ åå¥½æœ‰åè½¬å’Œæ·±åº¦çš„å‰§æƒ…ï¼Œè®¨åŒä¿—å¥—çš„æ•…äº‹å‘å±•ã€‚",
            "INFJ": "ä½ æ˜¯ä¸€ä¸ªå¯Œæœ‰åŒç†å¿ƒçš„å¹¿æ’­å‰§æ¬£èµè€…ï¼Œèƒ½æ·±åˆ»ç†è§£è§’è‰²æƒ…æ„Ÿå’ŒåŠ¨æœºã€‚å¬å‰§æ—¶ä½ æ³¨é‡ä½œå“ä¼ é€’çš„ä»·å€¼è§‚å’Œäººç”Ÿæ„ä¹‰ï¼Œå¸¸è¢«å¯Œæœ‰å“²ç†çš„å°è¯æ‰“åŠ¨ã€‚ä½ ä¼šåå¤å›å‘³å–œæ¬¢çš„ç‰‡æ®µï¼Œå¹¶å†™ä¸‹æ·±åˆ»çš„æƒ…æ„Ÿåˆ†æã€‚",
            "INFP": "ä½ æ˜¯ä¸€ä¸ªæµªæ¼«ä¸»ä¹‰çš„å¹¿æ’­å‰§çˆ±å¥½è€…ï¼Œå®¹æ˜“è¢«å¯Œæœ‰è¯—æ„çš„å°è¯å’Œç»†è…»çš„æƒ…æ„Ÿæå†™æ‰“åŠ¨ã€‚å¬å‰§æ—¶ä½ å®Œå…¨æ²‰æµ¸åœ¨æ•…äº‹æ°›å›´ä¸­ï¼Œä¸è§’è‰²äº§ç”Ÿå¼ºçƒˆå…±é¸£ã€‚ä½ åå¥½æ–‡è‰ºé£æ ¼çš„å¿ƒç†å‰§ï¼Œæ¬£èµç‹¬ç‰¹çš„ç¾å­¦è¡¨è¾¾ã€‚",
            "ENFJ": "ä½ æ˜¯ä¸€ä¸ªçƒ­æƒ…æ´‹æº¢çš„å¹¿æ’­å‰§æ¨å¹¿è€…ï¼Œå–„äºå‘ç°å‰§é›†ä¸­çš„æƒ…æ„Ÿä»·å€¼å’Œç¤¾ä¼šæ„ä¹‰ã€‚å¬å‰§åä½ ä¹äºç»„ç»‡è®¨è®ºä¼šï¼Œåˆ†äº«å‰§ä¸­æ‰“åŠ¨ä½ çš„æƒ…èŠ‚ã€‚ä½ åå¥½æ¸©æš–æ²»æ„ˆã€ä¼ é€’æ­£èƒ½é‡çš„å‰§é›†ã€‚",
            "ENFP": "ä½ æ˜¯ä¸€ä¸ªå……æ»¡çƒ­æƒ…çš„å¹¿æ’­å‰§ä½“éªŒè€…ï¼Œå¯¹æ–°å¥‡é¢˜æå……æ»¡å¥½å¥‡ã€‚å¬å‰§æ—¶ä½ æ€ç»´è·³è·ƒï¼Œå¸¸å¸¸ä»ä¸€ä¸ªæƒ…èŠ‚è”æƒ³åˆ°å„ç§ç”Ÿæ´»åœºæ™¯ã€‚ä½ åå¥½è½»æ¾å¹½é»˜ã€å¯Œæœ‰åˆ›æ„çš„å‰§é›†ï¼Œæ˜¯æœ‹å‹åœˆä¸­çš„'å‰§é›†ç§è‰æœº'ã€‚",
            "ISTJ": "ä½ æ˜¯ä¸€ä¸ªæ³¨é‡ç»†èŠ‚çš„å¹¿æ’­å‰§å¬ä¼—ï¼Œåå¥½ç»“æ„ä¸¥è°¨ã€åˆ¶ä½œç²¾è‰¯çš„å‰§é›†ã€‚å¬å‰§æ—¶ä½ ä¼šæ³¨æ„æ—¶é—´çº¿ã€åœºæ™¯è½¬æ¢ç­‰ç»†èŠ‚ï¼Œå¯¹é€»è¾‘æ¼æ´ç‰¹åˆ«æ•æ„Ÿã€‚ä½ ä¹ æƒ¯æŒ‰è®¡åˆ’å¬å‰§ï¼Œå¯¹å–œæ¬¢çš„å‰§é›†ä¼šåå¤æ”¶å¬ã€‚",
            "ISFJ": "ä½ æ˜¯ä¸€ä¸ªç»†è…»ä½“è´´çš„å¹¿æ’­å‰§æ¬£èµè€…ï¼Œç‰¹åˆ«å…³æ³¨å‰§ä¸­çš„æƒ…æ„Ÿç»†èŠ‚å’Œäººç‰©å…³ç³»ã€‚å¬å‰§æ—¶ä½ æ³¨é‡çœŸå®æ„Ÿï¼Œå®¹æ˜“è¢«å¹³å‡¡ç”Ÿæ´»ä¸­çš„æ¸©æƒ…æ•…äº‹æ‰“åŠ¨ã€‚ä½ ä¼šè®¤çœŸè®°å½•å¬å‰§ç¬”è®°ï¼Œå¯¹å–œæ¬¢çš„è§’è‰²å¦‚æ•°å®¶çã€‚",
            "ESTJ": "ä½ æ˜¯ä¸€ä¸ªé«˜æ•ˆåŠ¡å®çš„å¹¿æ’­å‰§å¬ä¼—ï¼Œåå¥½ç»“æ„æ¸…æ™°ã€ä¸»é¢˜æ˜ç¡®çš„å‰§é›†ã€‚å¬å‰§æ—¶ä½ æ³¨é‡å‰§æƒ…å‘å±•å’Œå®ç”¨æ€§ï¼Œä¼šä»å‰§ä¸­æå–æœ‰ç”¨çš„ç”Ÿæ´»ç»éªŒã€‚ä½ ä¹ æƒ¯åˆ¶å®šå¬å‰§è®¡åˆ’ï¼Œå¹¶é«˜æ•ˆæ‰§è¡Œã€‚",
            "ESFJ": "ä½ æ˜¯ä¸€ä¸ªçƒ­æƒ…å‘¨åˆ°çš„å¹¿æ’­å‰§åˆ†äº«è€…ï¼Œå¬å‰§æ—¶ç‰¹åˆ«å…³æ³¨äººé™…å…³ç³»å’Œæƒ…æ„Ÿäº’åŠ¨ã€‚ä½ ä¹äºç»„ç»‡å¬å‰§èšä¼šï¼Œåœ¨ç¤¾äº¤åœˆä¸­åˆ†äº«æœ€æ–°å‘ç°çš„ä¼˜è´¨å‰§é›†ã€‚ä½ åå¥½æ¸©æš–æ²»æ„ˆã€ä¼ é€’æ­£èƒ½é‡çš„ä½œå“ã€‚",
            "ISTP": "ä½ æ˜¯ä¸€ä¸ªå†·é™åˆ†æçš„å¹¿æ’­å‰§æ¢ç´¢è€…ï¼Œåå¥½æ‚¬ç–‘æ¨ç†ã€åŠ¨ä½œç±»é¢˜æã€‚å¬å‰§æ—¶ä½ ä¼šæ³¨æ„å„ç§ç»†èŠ‚çº¿ç´¢ï¼Œå°è¯•æå‰è§£å¼€è°œé¢˜ã€‚ä½ ä¹ æƒ¯ç‹¬ç«‹å¬å‰§ï¼Œäº«å—è§£è°œçš„æ€ç»´ä¹è¶£ã€‚",
            "ISFP": "ä½ æ˜¯ä¸€ä¸ªæ„Ÿæ€§ç»†è…»çš„å¹¿æ’­å‰§æ¬£èµè€…ï¼Œç‰¹åˆ«æ³¨é‡å‰§ä¸­çš„ç¾å­¦è¡¨è¾¾å’Œæƒ…æ„Ÿæ°›å›´ã€‚å¬å‰§æ—¶ä½ å®Œå…¨æ²‰æµ¸åœ¨æ•…äº‹åˆ›é€ çš„ä¸–ç•Œä¸­ï¼Œå¯¹éŸ³ä¹ã€éŸ³æ•ˆç‰¹åˆ«æ•æ„Ÿã€‚ä½ åå¥½æ–‡è‰ºé£æ ¼ã€å¯Œæœ‰ç¾æ„Ÿçš„ä½œå“ã€‚",
            "ESTP": "ä½ æ˜¯ä¸€ä¸ªè¡ŒåŠ¨æ´¾çš„å¹¿æ’­å‰§ä½“éªŒè€…ï¼Œåå¥½å¿«èŠ‚å¥ã€å¼ºå†²çªçš„å‰§é›†ã€‚å¬å‰§æ—¶ä½ å…³æ³¨å‰§æƒ…å‘å±•å’Œå³æ—¶çš„æ„Ÿå®˜ä½“éªŒï¼Œä¸å–œæ¬¢æ‹–æ²“çš„é“ºå«ã€‚ä½ ä¹ æƒ¯è¾¹å¬å‰§è¾¹åšå…¶ä»–äº‹ï¼Œå–„äºå¤šä»»åŠ¡å¤„ç†ã€‚",
            "ESFP": "ä½ æ˜¯ä¸€ä¸ªçƒ­æƒ…æ´»åŠ›çš„å¹¿æ’­å‰§çˆ±å¥½è€…ï¼Œåå¥½è½»æ¾æ„‰å¿«ã€å¯Œæœ‰å¨±ä¹æ€§çš„å‰§é›†ã€‚å¬å‰§æ—¶ä½ ç‰¹åˆ«äº«å—ä¸ä»–äººåˆ†äº«çš„å¿«ä¹ï¼Œå¸¸å¸¸è¾¹å¬è¾¹è®¨è®ºå‰§æƒ…ã€‚ä½ æ˜¯æœ‹å‹åœˆä¸­çš„'å¿«ä¹æºæ³‰'ï¼Œå–„äºæ´»è·ƒå¬å‰§æ°›å›´ã€‚"
        };

        // äººæ ¼ç±»å‹æ ‡ç­¾
        const personalityTags = {
            "INTJ": "ç­–ç•¥å‹å¬å‰§å¤§å¸ˆ",
            "INTP": "å‰§æƒ…è§£æ„ä¸“å®¶",
            "ENTJ": "å¬å‰§æŒ‡æŒ¥å®˜",
            "ENTP": "è„‘æ´å¼€æ‹“è€…",
            "INFJ": "å¿ƒçµå…±é¸£è€…",
            "INFP": "æ–‡è‰ºé‰´èµå®¶",
            "ENFJ": "æƒ…æ„Ÿå¯¼å¸ˆ",
            "ENFP": "åˆ›æ„èƒ½é‡ä½“",
            "ISTJ": "ç»†èŠ‚åˆ†æå¸ˆ",
            "ISFJ": "æ¸©æƒ…è®°å½•è€…",
            "ESTJ": "é«˜æ•ˆå¬å‰§å®˜",
            "ESFJ": "ç¤¾äº¤åˆ†äº«å®¶",
            "ISTP": "å†·é™è§‚å¯Ÿè€…",
            "ISFP": "ç¾å­¦ä½“éªŒå®˜",
            "ESTP": "æ„Ÿå®˜æ¢é™©å®¶",
            "ESFP": "æ¬¢ä¹ä¼ æ’­è€…"
        };

        // çŠ¶æ€ç®¡ç†
        const state = {
            currentPage: "home",
            currentDimension: 0,
            currentQuestion: 0,
            answers: [[], [], [], []],
            scores: [0, 0, 0, 0],
            personalityType: "",
            dimensionCompleted: [false, false, false, false] // è·Ÿè¸ªæ¯ä¸ªç»´åº¦æ˜¯å¦å®Œæˆ
        };

        // DOMå…ƒç´ 
        const pages = {
            home: document.getElementById("home"),
            dimensionIntro: document.getElementById("dimension-intro"),
            question: document.getElementById("question"),
            result: document.getElementById("result")
        };

        // åˆå§‹åŒ–
        document.addEventListener("DOMContentLoaded", function() {
            // ç»‘å®šæŒ‰é’®äº‹ä»¶
            document.getElementById("startBtn").addEventListener("click", startTest);
            document.getElementById("startDimensionBtn").addEventListener("click", startDimensionQuestions);
            document.getElementById("prevBtn").addEventListener("click", prevQuestion);
            document.getElementById("nextBtn").addEventListener("click", nextQuestion);
            document.getElementById("restartBtn").addEventListener("click", restartTest);
        });

        // å¼€å§‹æµ‹è¯•
        function startTest() {
            state.currentDimension = 0;
            state.currentQuestion = 0;
            state.answers = [[], [], [], []];
            state.scores = [0, 0, 0, 0];
            state.dimensionCompleted = [false, false, false, false];
            state.personalityType = "";
            showDimensionIntro();
        }

        // æ˜¾ç¤ºç»´åº¦ä»‹ç»é¡µ
        function showDimensionIntro() {
            const dim = dimensions[state.currentDimension];
            
            document.getElementById("dimension-title").textContent = dim.title;
            document.getElementById("dimension-subtitle").textContent = dim.subtitle;
            document.getElementById("dimension-icon").innerHTML = `<i class="${dim.icon}"></i>`;
            document.getElementById("dimension-description").textContent = dim.description;
            
            // æ›´æ–°è¿›åº¦æ¡ - åŸºäºå·²å®Œæˆç»´åº¦
            const completedDimensions = state.dimensionCompleted.filter(c => c).length;
            const progress = (completedDimensions / dimensions.length) * 100;
            document.getElementById("dimension-progress").style.width = `${progress}%`;
            
            // åˆ‡æ¢é¡µé¢
            showPage("dimensionIntro");
        }

        // å¼€å§‹ç»´åº¦çš„é¢˜ç›®
        function startDimensionQuestions() {
            state.currentQuestion = 0;
            showQuestion();
        }

        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion() {
            const dim = dimensions[state.currentDimension];
            const questionIndex = state.currentQuestion;
            
            // æ›´æ–°é—®é¢˜æŒ‡ç¤ºå™¨
            document.getElementById("dimension-indicator").textContent = `ç»´åº¦ ${state.currentDimension + 1}/4`;
            document.getElementById("question-indicator").textContent = `é¢˜ç›® ${questionIndex + 1}/5`;
            
            // æ›´æ–°è¿›åº¦æ¡ - åŸºäºå·²å®Œæˆçš„é¢˜ç›®æ•°é‡
            const completedQuestions = state.answers[state.currentDimension].filter(a => a !== undefined).length;
            const progress = (completedQuestions / dim.questions.length) * 100;
            document.getElementById("question-progress").style.width = `${progress}%`;
            
            // è®¾ç½®é—®é¢˜æ–‡æœ¬
            document.getElementById("question-text").textContent = dim.questions[questionIndex];
            
            // åˆ›å»ºé€‰é¡¹
            const optionsContainer = document.getElementById("options-container");
            optionsContainer.innerHTML = "";
            
            const options = dim.options[questionIndex];
            for (let i = 0; i < options.length; i++) {
                const optionDiv = document.createElement("div");
                optionDiv.className = "option";
                if (state.answers[state.currentDimension][questionIndex] === i) {
                    optionDiv.classList.add("selected");
                }
                
                optionDiv.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + i)}</div>
                    <div class="option-text">${options[i]}</div>
                `;
                
                optionDiv.addEventListener("click", () => selectOption(i));
                optionsContainer.appendChild(optionDiv);
            }
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById("prevBtn").style.visibility = questionIndex > 0 ? "visible" : "hidden";
            
            // åˆ‡æ¢é¡µé¢
            showPage("question");
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(optionIndex) {
            // ç§»é™¤ä¹‹å‰çš„é€‰æ‹©
            const options = document.querySelectorAll(".option");
            options.forEach(option => option.classList.remove("selected"));
            
            // æ·»åŠ å½“å‰é€‰æ‹©
            options[optionIndex].classList.add("selected");
            
            // ä¿å­˜ç­”æ¡ˆ
            state.answers[state.currentDimension][state.currentQuestion] = optionIndex;
            
            // æ›´æ–°è¿›åº¦æ¡
            const completedQuestions = state.answers[state.currentDimension].filter(a => a !== undefined).length;
            const progress = (completedQuestions / dimensions[state.currentDimension].questions.length) * 100;
            document.getElementById("question-progress").style.width = `${progress}%`;
        }

        // ä¸Šä¸€é¢˜
        function prevQuestion() {
            if (state.currentQuestion > 0) {
                state.currentQuestion--;
                showQuestion();
            } else {
                // å¦‚æœå½“å‰æ˜¯ç¬¬ä¸€é¢˜ï¼Œè¿”å›ç»´åº¦ä»‹ç»é¡µ
                showDimensionIntro();
            }
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            // ç¡®ä¿å·²é€‰æ‹©ç­”æ¡ˆ
            if (state.answers[state.currentDimension][state.currentQuestion] === undefined) {
                alert("è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹");
                return;
            }
            
            const dim = dimensions[state.currentDimension];
            
            if (state.currentQuestion < dim.questions.length - 1) {
                // è¿›å…¥ä¸‹ä¸€é¢˜
                state.currentQuestion++;
                showQuestion();
            } else {
                // æ ‡è®°å½“å‰ç»´åº¦ä¸ºå·²å®Œæˆ
                state.dimensionCompleted[state.currentDimension] = true;
                
                // è®¡ç®—å½“å‰ç»´åº¦å¾—åˆ†
                calculateDimensionScore();
                
                if (state.currentDimension < dimensions.length - 1) {
                    // è¿›å…¥ä¸‹ä¸€ä¸ªç»´åº¦
                    state.currentDimension++;
                    showDimensionIntro();
                } else {
                    // æ‰€æœ‰ç»´åº¦å®Œæˆï¼Œæ˜¾ç¤ºç»“æœ
                    calculatePersonality();
                    showResult();
                }
            }
        }

        // è®¡ç®—ç»´åº¦å¾—åˆ†
        function calculateDimensionScore() {
            // æ¯é¢˜é€‰Aå¾—1åˆ†ï¼ˆç´¢å¼•0ï¼‰ï¼Œé€‰Bå¾—0åˆ†ï¼ˆç´¢å¼•1ï¼‰
            const answers = state.answers[state.currentDimension];
            let score = 0;
            
            for (let i = 0; i < answers.length; i++) {
                if (answers[i] === 0) { // Aé€‰é¡¹
                    score++;
                }
            }
            
            state.scores[state.currentDimension] = score;
        }

        // è®¡ç®—äººæ ¼ç±»å‹
        function calculatePersonality() {
            // æ ¹æ®æ¯ä¸ªç»´åº¦çš„å¾—åˆ†åˆ¤æ–­å€¾å‘
            const tendencies = [];
            
            // I/Eç»´åº¦ï¼š>=3åˆ†ä¸ºIï¼Œå¦åˆ™ä¸ºE
            tendencies.push(state.scores[0] >= 3 ? "I" : "E");
            // S/Nç»´åº¦ï¼š>=3åˆ†ä¸ºSï¼Œå¦åˆ™ä¸ºN
            tendencies.push(state.scores[1] >= 3 ? "S" : "N");
            // T/Fç»´åº¦ï¼š>=3åˆ†ä¸ºTï¼Œå¦åˆ™ä¸ºF
            tendencies.push(state.scores[2] >= 3 ? "T" : "F");
            // J/Pç»´åº¦ï¼š>=3åˆ†ä¸ºJï¼Œå¦åˆ™ä¸ºP
            tendencies.push(state.scores[3] >= 3 ? "J" : "P");
            
            state.personalityType = tendencies.join("");
        }

        // æ˜¾ç¤ºç»“æœé¡µ
        function showResult() {
            // è®¾ç½®äººæ ¼ç±»å‹
            document.getElementById("personality-type").textContent = state.personalityType;
            document.getElementById("personality-tag").textContent = personalityTags[state.personalityType] || "å¹¿æ’­å‰§çˆ±å¥½è€…";
            document.getElementById("personality-desc").textContent = personalityDescriptions[state.personalityType] || "ä½ æ˜¯ä¸€ä¸ªç‹¬ç‰¹çš„å¹¿æ’­å‰§çˆ±å¥½è€…ï¼";
            
            // è®¾ç½®ç»´åº¦åˆ†æ•°
            document.getElementById("dim1-score").textContent = `${state.scores[0]}/5`;
            document.getElementById("dim2-score").textContent = `${state.scores[1]}/5`;
            document.getElementById("dim3-score").textContent = `${state.scores[2]}/5`;
            document.getElementById("dim4-score").textContent = `${state.scores[3]}/5`;
            
            // è®¾ç½®ç»´åº¦å€¾å‘
            document.getElementById("dim1-tendency").textContent = state.scores[0] >= 3 ? "å†…å€¾(I)" : "å¤–å€¾(E)";
            document.getElementById("dim2-tendency").textContent = state.scores[1] >= 3 ? "å®æ„Ÿ(S)" : "ç›´è§‰(N)";
            document.getElementById("dim3-tendency").textContent = state.scores[2] >= 3 ? "æ€è€ƒ(T)" : "æƒ…æ„Ÿ(F)";
            document.getElementById("dim4-tendency").textContent = state.scores[3] >= 3 ? "åˆ¤æ–­(J)" : "æ„ŸçŸ¥(P)";
            
            // è®¾ç½®å€¾å‘é¢œè‰²
            document.getElementById("dim1-tendency").style.background = state.scores[0] >= 3 ? "rgba(199, 206, 234, 0.3)" : "rgba(255, 154, 162, 0.3)";
            document.getElementById("dim2-tendency").style.background = state.scores[1] >= 3 ? "rgba(181, 234, 215, 0.3)" : "rgba(255, 218, 193, 0.3)";
            document.getElementById("dim3-tendency").style.background = state.scores[2] >= 3 ? "rgba(162, 210, 255, 0.3)" : "rgba(255, 183, 197, 0.3)";
            document.getElementById("dim4-tendency").style.background = state.scores[3] >= 3 ? "rgba(181, 234, 215, 0.3)" : "rgba(255, 218, 193, 0.3)";
            
            // åˆ‡æ¢é¡µé¢
            showPage("result");
        }

        // é‡æ–°æµ‹è¯•
        function restartTest() {
            state.currentDimension = 0;
            state.currentQuestion = 0;
            state.answers = [[], [], [], []];
            state.scores = [0, 0, 0, 0];
            state.dimensionCompleted = [false, false, false, false];
            state.personalityType = "";
            showPage("home");
        }

        // æ˜¾ç¤ºæŒ‡å®šé¡µé¢
        function showPage(pageName) {
            // éšè—æ‰€æœ‰é¡µé¢
            for (const page in pages) {
                pages[page].classList.remove("active");
            }
            
            // æ˜¾ç¤ºå½“å‰é¡µé¢
            pages[pageName].classList.add("active");
            state.currentPage = pageName;
        }
    </script>
</body>
</html>